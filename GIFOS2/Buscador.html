<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <style>
        .iconoCerrar {
            position: absolute;
            margin: -25em 25em;
        }

        #contenedor {
            margin-top: 10em;
        }

        #iconoDiv {
            position: absolute;
        }

        #imgDiv {
            background: green;
        }

        .hover {
            opacity: 40%;
        }

        .icono {
            display: none;
        }

        .a {
            z-index: 1;
        }

        .imgMax {
            transform: scale(1.2);
            /*position: absolute;*/
        }
    </style>
    <section id="contenedor">
        <div id="iconoDiv" class="icono">
            <img src="/img/icon-fav-hover.svg" alt="fav" class="icono1" id="fav">
            <img src="/img/icon-download-hover.svg" alt="download" class="icono2" id="download">
            <img src="/img/icon-max-hover.svg" alt="icono" id="max">
        </div>
        <div id="imgDiv">
            <img src="" alt="img" id="img">
        </div>

    </section>
    <script>
        /*let contenedor = document.getElementById('contenedor')
        let iconoDiv = document.getElementById('iconoDiv')
        let imgDiv = document.getElementById('imgDiv')
        let img = document.getElementById('img')
        let icono = document.querySelector('.icono')
        let max = document.getElementById('max')


        function getImg() {
            fetch('https://api.giphy.com/v1/gifs/trending?api_key=r04zELcPYCkaQQ8Eaboohd6UpRglZ1Le&limit=2&rating=g')
                .then(response => response.json())
                .then(json => json.data)
                .then(data => {
                    for (i of data) {
                        //let gif = document.createElement('img')

                        let urlImg = i.images.original.url
                        img.setAttribute('src', urlImg)

                        /*let seccion = document.createElement('section')
                        seccion.innerHTML = "a"
                        contenedor.appendChild(seccion)*/
                        //gif.setAttribute('class', 'img')
                        //gif.setAttribute('alt', 'img')
                        //imgDiv.appendChild(gif)
                        //Aqui se agrega imagen dinamicamente creandola desde aqui
                        /*let titulo = i.title
                        let user = i.user.username
                        //contenedor.addEventListener('mouseover', hover(user, titulo))
                    }
                })
                .catch(console.error)
        }
        getImg()

        contenedor.addEventListener('mouseover', hover)

        function hover(user, titulo) {
            img.classList.add('hover')
            icono.classList.add('hover')
            iconoDiv.classList.remove('icono')
            iconoDiv.classList.add('a')
            //Agregar parrafos
            let username = document.createElement('p')
            let title = document.createElement('p')
            username.textContent = user
            title.textContent = titulo
            //username.classList.add('pHover')
            iconoDiv.appendChild(username)
            iconoDiv.appendChild(title)
        }

        contenedor.addEventListener('mouseout', removeHover)

        function removeHover() {
            img.classList.remove('hover')
            iconoDiv.classList.add('icono')
            iconoDiv.classList.remove('a')
            //Remover los parrafos
            var p = document.querySelectorAll('#iconoDiv > p')
            for (let i = 0; i < p.length; i++) {
                iconoDiv.removeChild(p[i])
            }
        }

        let urlIcono = '/img/close.svg'

        max.addEventListener('click', () => {
            img.classList.add('imgMax')

            contenedor.removeEventListener('mouseover', hover)
            img.classList.remove('hover')

            let iconoCerrar = document.createElement('img')
            iconoCerrar.setAttribute('src', urlIcono);
            iconoCerrar.classList.add('iconoCerrar')
            contenedor.appendChild(iconoCerrar)
            iconoCerrar.addEventListener('click', () => {
                contenedor.addEventListener('mouseover', hover)
                iconoCerrar.classList.add('icono')
                img.classList.remove('imgMax')
            })
        })

        //TENDENCIAS DE BUSQUEDA 
        /*function a(){
            fetch(`https://api.giphy.com/v1/trending/searches?api_key=r04zELcPYCkaQQ8Eaboohd6UpRglZ1Le`)
            .then(response => response.json())
            .then(json => json.data)
            .then(info => { 
                let nuevoText = info.splice(0, 5)
                for (text of nuevoText) {  
                    let texto = document.createElement('p')
                    texto.textContent = text
                    contenedor.appendChild(texto)
                }
            }).catch(console.error);
        }
        a()*/


        let contenedor = document.getElementById('contenedor')
        let iconoDiv = document.getElementById('iconoDiv')
        let imgDiv = document.getElementById('imgDiv')
        let img = document.getElementById('img')
        let icono = document.querySelector('.icono')
        let max = document.getElementById('max')


        function getImg() {
            fetch('https://api.giphy.com/v1/gifs/trending?api_key=r04zELcPYCkaQQ8Eaboohd6UpRglZ1Le&limit=2&rating=g')
                .then(response => response.json())
                .then(json => json.data)
                .then(data => {
                    for (i of data) {
                        //let gif = document.createElement('img')

                        let urlImg = i.images.original.url
                        img.setAttribute('src', urlImg)

                        
                        /*let seccion = document.createElement('section')
                        seccion.innerHTML = "a"
                        contenedor.appendChild(seccion)*/
                        //gif.setAttribute('class', 'img')
                        //gif.setAttribute('alt', 'img')
                        //imgDiv.appendChild(gif)
                        //Aqui se agrega imagen dinamicamente creandola desde aqui
                        /*let titulo = i.title
                        let user = i.user.username*/
                        //contenedor.addEventListener('mouseover', hover(user, titulo))
                    }
                })
                .catch(console.error)
        }
        getImg()

        contenedor.addEventListener('mouseover', hover)

        function hover(user, titulo) {
            img.classList.add('hover')
            icono.classList.add('hover')
            iconoDiv.classList.remove('icono')
            iconoDiv.classList.add('a')
            //Agregar parrafos
            let username = document.createElement('p')
            let title = document.createElement('p')
            username.textContent = user
            title.textContent = titulo
            //username.classList.add('pHover')
            iconoDiv.appendChild(username)
            iconoDiv.appendChild(title)
        }

        contenedor.addEventListener('mouseout', removeHover)

        function removeHover() {
            img.classList.remove('hover')
            iconoDiv.classList.add('icono')
            iconoDiv.classList.remove('a')
            //Remover los parrafos
            var p = document.querySelectorAll('#iconoDiv > p')
            for (let i = 0; i < p.length; i++) {
                iconoDiv.removeChild(p[i])
            }
        }

        let urlIcono = '/img/close.svg'

        max.addEventListener('click', () => {
            img.classList.add('imgMax')

            contenedor.removeEventListener('mouseover', hover)
            img.classList.remove('hover')

            let iconoCerrar = document.createElement('img')
            iconoCerrar.setAttribute('src', urlIcono);
            iconoCerrar.classList.add('iconoCerrar')
            contenedor.appendChild(iconoCerrar)
            iconoCerrar.addEventListener('click', () => {
                contenedor.addEventListener('mouseover', hover)
                iconoCerrar.classList.add('icono')
                img.classList.remove('imgMax')
            })
        })

        //TENDENCIAS DE BUSQUEDA 
        /*function a(){
            fetch(`https://api.giphy.com/v1/trending/searches?api_key=r04zELcPYCkaQQ8Eaboohd6UpRglZ1Le`)
            .then(response => response.json())
            .then(json => json.data)
            .then(info => { 
                let nuevoText = info.splice(0, 5)
                for (text of nuevoText) {  
                    let texto = document.createElement('p')
                    texto.textContent = text
                    contenedor.appendChild(texto)
                }
            }).catch(console.error);
        }
        a()*/
    </script>
</body>

</html>